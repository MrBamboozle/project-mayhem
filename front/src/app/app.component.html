<div class="wrapper d-flex align-items-stretch app">
  <nav id="sidebar" [ngClass]="{'active': isSidebarHidden}">
    <div class="custom-menu">
      <button type="button" class="btn btn-secondary" (click)="toggleSidebar()">Toggle sidebar</button>
    </div>
    <div class="list-group mt-7 px-2">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="list-group-item list-group-item-action">Homepage</a>
      <a routerLink="/users" routerLinkActive="active" class="list-group-item list-group-item-action">Users</a>
      <a routerLink="/events" routerLinkActive="active" class="list-group-item list-group-item-action">Events</a>
    </div>
  </nav>

  <div id="body">
      <!-- Header  -->
    <div id="header" class="d-flex align-items-center pe-3">
      <div class="d-flex justify-content-center flex-grow-1">
        <h1>{{ title }}</h1>
      </div>
      <div>
        <button type="button" class="btn btn-primary" *ngIf="(userStore.currentUser | async) === null; else userMenu" (click)="openSignInModal()">Sign in</button>
        <ng-template #userMenu>
          <div ngbDropdown>
            <button class="btn btn-secondary" type="button" ngbDropdownToggle>
              {{ (userStore.currentUser | async)?.name }}
            </button>
            <div ngbDropdownMenu aria-labelledby="navbarDropdown2" class="dropdown-menu dropdown-menu-end">
              <button ngbDropdownItem type="button">Profile</button>
              <button ngbDropdownItem type="button" (click)="signOut()">Sign out</button>
            </div>
          </div>
        </ng-template>
      </div>
    </div>
      <!-- Page Content  -->
    <div id="content" class="p-4 p-md-5 pt-5">
      <router-outlet></router-outlet>
    </div>
  </div>

</div>
